@model WebsiteBanXeMay___Coding.Models.PhieuNhap

@{
    ViewData["Title"] = "Chỉnh Sửa Phiếu Nhập";
}

<h2 class="text-center">✏️ Chỉnh Sửa Phiếu Nhập</h2>

@if (User.IsInRole("Admin"))
{
    <form asp-action="Edit" method="post">
        <div class="mb-3">
            <label class="form-label">🏢 Nhà Cung Cấp:</label>
            <select asp-for="NhaCungCapId" class="form-select" asp-items="ViewBag.NhaCungCapList">
                <option value="">-- Chọn Nhà Cung Cấp --</option>
            </select>
            <span class="text-danger" asp-validation-for="NhaCungCapId"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">👨‍💼 Nhân Viên Nhập Hàng:</label>
            <select asp-for="NhanVienId" class="form-select" asp-items="ViewBag.NhanVienList">
                <option value="">-- Chọn Nhân Viên --</option>
            </select>
            <span class="text-danger" asp-validation-for="NhanVienId"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">📅 Ngày Nhập:</label>
            <input asp-for="NgayNhap" class="form-control" type="date" value="@Model.NgayNhap.ToString("yyyy-MM-dd")" />
            <span class="text-danger" asp-validation-for="NgayNhap"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">💰 Tổng Tiền:</label>
            <input asp-for="TongTien" class="form-control" type="number" min="0" step="1000" />
            <span class="text-danger" asp-validation-for="TongTien"></span>
        </div>

        <div class="mb-3">
            <label class="form-label">📌 Trạng Thái:</label>
            <select asp-for="TrangThai" class="form-select">
                <option value="true" selected="@Model.TrangThai">✅ Hoạt động</option>
                <option value="false" selected="@(Model.TrangThai ? string.Empty : "selected")">❌ Hủy</option>
            </select>
        </div>

        <button type="submit" class="btn btn-success">✅ Lưu Phiếu Nhập</button>
        <a class="btn btn-secondary" asp-action="Index">🔙 Quay Lại</a>
    </form>
}
else
{
    <div class="alert alert-danger text-center">
        ❌ Bạn không có quyền truy cập trang này.
    </div>
}

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
