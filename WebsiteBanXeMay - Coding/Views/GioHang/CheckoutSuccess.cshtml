@model List<WebsiteBanXeMay___Coding.Models.GioHangItem>

@{
    ViewData["Title"] = "Thanh Toán Thành Công";
}

<div class="container mt-5">
    <h2 class="text-center text-success" style="font-size: 2.5rem;">✅ Thanh Toán Thành Công!</h2>

    <p class="text-center" style="font-size: 1.5rem;">
        Cảm ơn <strong>@(ViewBag.FullName ?? "Quý khách")</strong> đã mua hàng! 🎉
    </p>
    <p class="text-center" style="font-size: 1.5rem;">
        Đơn hàng sẽ được giao tới: <strong>@(ViewBag.Address ?? "Chưa có địa chỉ")</strong>
    </p>
    <p class="text-center" style="font-size: 1.5rem;">
        Phương thức thanh toán: <strong>@(ViewBag.PaymentMethod ?? "Chưa xác định")</strong>
    </p>
    <p class="text-center" style="font-size: 1.5rem;">
        Mã đơn hàng: <strong>@(ViewBag.OrderId ?? "Không có mã")</strong>
    </p>

    <hr />

    @if (Model != null && Model.Any())
    {
        <h3 class="text-center" style="font-size: 2rem; color: #007bff;">📦 Chi Tiết Đơn Hàng</h3>

        <table class="table table-bordered text-center mt-3">
            <thead class="thead-dark" style="background-color: #343a40; color: white;">
                <tr>
                    <th>Hình ảnh</th>
                    <th>Sản phẩm</th>
                    <th>Giá</th>
                    <th>Số lượng</th>
                    <th>Tổng</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            <img src="@item.ImageUrl" alt="@item.Name" class="img-thumbnail" style="width: 80px; height: 80px; border-radius: 10px;">
                        </td>
                        <td>@item.Name</td>
                        <td>@item.Price.ToString("N0", new System.Globalization.CultureInfo("vi-VN")) đ</td>
                        <td>@item.Quantity</td>
                        <td>@((item.Quantity * item.Price).ToString("N0", new System.Globalization.CultureInfo("vi-VN"))) đ</td>
                    </tr>
                }
            </tbody>
        </table>

        <div class="text-right mt-3">
            <h4 class="text-danger" style="font-size: 1.75rem;">
                💰 Tổng tiền: <strong>@Model.Sum(i => i.Quantity * i.Price).ToString("N0", new System.Globalization.CultureInfo("vi-VN")) đ</strong>
            </h4>
        </div>
    }
    else
    {
        <h3 class="text-danger text-center" style="font-size: 1.75rem;">
            ❌ Không có sản phẩm nào trong đơn hàng!
        </h3>
    }

    <div class="text-center mt-4">
        <a href="@Url.Action("Index", "Home")" class="btn btn-secondary" style="border-radius: 25px; padding: 12px 35px; font-size: 1.25rem;">
            🏠 Về Trang Chủ
        </a>
        <a href="@Url.Action("LichSu", "GioHang")" class="btn btn-primary" style="border-radius: 25px; padding: 12px 35px; font-size: 1.25rem;">
            📜 Xem Lịch Sử Mua Hàng
        </a>
    </div>
</div>

<style>
    .table th, .table td {
        font-size: 1.25rem;
        padding: 18px;
    }

    .btn-secondary {
        background-color: #6c757d;
        border-color: #6c757d;
        font-weight: bold;
    }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
        font-weight: bold;
    }

        .btn-primary:hover {
            background-color: #0056b3;
        }
</style>
